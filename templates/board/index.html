{% extends 'base.html' %}
{% block con %}
    {% load mathfilters %}
    <h1><b>SH ê²Œì‹œíŒ</b></h1>

    <a href="{% url 'board:create' %}"><button>ê²Œì‹œê¸€ ì‘ì„±</button></a>
    <br><br>
    <table border="1">
        <tr>
            <th>ìˆœë²ˆ</th>
            <th>ì œëª©</th>
            <th>ìš”ì•½</th>
            <th>ì‘ì„±ì</th>
            <th>ì¢‹ì•„ìš”</th>
        </tr>
        {% for i in bset %}
            <tr>
                <td>{{ bset.start_index|add:forloop.counter0 }}</td>
                <td><a href="{% url 'board:detail' i.id %}">{{ i.subject }}</a></td>
                <td>{{ i.content|truncatewords:10 }}</td>
                <td>{{ i.writer }}</td>
                <td>{{ i.likey.count }}</td>
            </tr>
        {% empty %}
            <tr>
                <th colspan="5">
                    {% if kw %}
                        ê²€ìƒ‰ ê²°ê³¼ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ ğŸ‘©ğŸ»
                    {% else %}
                        ì²« ë²ˆì§¸ ê²Œì‹œê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš” ğŸ™ğŸ»
                    {% endif %}
                </th>
            </tr>
        {% endfor %}
    
    </table>

    <br>
    <form>
        <select name="cate">
            <option value="sub" {% if cate == 'sub' %}selected{% endif %}>ì œëª©</option>
            <option value="wri" {% if cate == 'wri' %}selected{% endif %}>ì‘ì„±ì</option>
            <option value="con" {% if cate == 'con' %}selected{% endif %}>ë‚´ìš©</option>
        </select>
        <input type="text" name="kw" value="{{kw}}" size="60">
        <button>ê²€ìƒ‰</button>
    </form>
    <br>

    {% if bset.has_previous %}
        <a href="{% url 'board:index' %}?page=1&cate={{cate}}&kw={{kw}}"><button>ì²˜ìŒ</button></a>
        <a href="{% url 'board:index' %}?page={{bset.previous_page_number}}&cate={{cate}}&kw={{kw}}"><button>ì´ì „</button></a>
    {% else %}
        <button disabled>ì²˜ìŒ</button>
        <button disabled>ì´ì „</button>
    {% endif %}

    {% for i in bset.paginator.page_range %}
        {% if bset.number|add:5 >= i and i >= bset.number|sub:4 %}
            <a href="{% url 'board:index' %}?page={{i}}&cate={{cate}}&kw={{kw}}"><button {% if bset.number == i %}style="background-color:rgba(0, 251, 255, 0.147)"{% endif %}>{{i}}</button></a>
        {% endif %}
    {% endfor %}
    
    {% if bset.has_next %}
        <a href="{% url 'board:index' %}?page={{bset.next_page_number}}&cate={{cate}}&kw={{kw}}"><button>ë‹¤ìŒ</button></a>
        <a href="{% url 'board:index' %}?page={{bset.paginator.num_pages}}&cate={{cate}}&kw={{kw}}"><button>ë§ˆì§€ë§‰</button></a>
    {% else %}
        <button disabled>ë‹¤ìŒ</button>
        <button disabled>ë§ˆì§€ë§‰</button>
    {% endif %}


    <style>
        th, td {
            padding : 10px;
        }
    </style>

{% endblock %}